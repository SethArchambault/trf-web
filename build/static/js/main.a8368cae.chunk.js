(this.webpackJsonptrf_web=this.webpackJsonptrf_web||[]).push([[0],{100:function(e,t){},105:function(e,t){},107:function(e,t){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),i=a.n(o),l=a(9),c=a(18),s=a(25),d=a(41),u=a.n(d),m=a(66),p=(a(82),a(72)),g=a(68),h=a(70),f=a(71),y={dev:{contract:"wigglewiggle",host:"jungle2.cryptolions.io",chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"},live:{contract:"travelrefund",host:"eos.greymass.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}},b=null;b=window.TPJSBrigeClient?"TokenPocket":navigator.userAgent.includes("EOSLynx")?"EOS Lynx":navigator.userAgent.match(/Android|iPhone|iPad|iPod/i)?"mobile_browser":"desktop_browser";var v=Object(p.a)({appName:"trf-web",network:{host:y.live.host,port:443,protocol:"https",chainId:y.live.chainId},walletProviders:[Object(g.a)(),Object(h.a)(),Object(f.a)()]}),w=v.getWalletProviders();console.log("walletProviders",w);var E=function(){var e,t=Object(l.c)((function(e){return e.status})),a=Object(l.b)(),n=function(){var e=Object(l.c)((function(e){return e.status}));Object(l.b)();return r.a.createElement("div",null,e)},o=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r,o,i,l,c,s,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w[t],r=v.initWallet(n),a({type:"switch",payload:"wallet initialized"}),e.next=6,r.connect();case 6:return e.sent,a({type:"switch",payload:"connected"}),e.next=10,r.discover({pathIndexList:[0,1,2,3]});case 10:if(o=e.sent,i=null,!(o.keyToAccountMap.length>0)){e.next=21;break}a({type:"switch",payload:"discovery_completed"}),0,l=o.keyToAccountMap[0],c=l.accounts[0].account,s=l.accounts[0].authorization,i=r.login(c,s),e.next=25;break;case 21:return a({type:"switch",payload:"logging in"}),e.next=24,r.login();case 24:i=e.sent;case 25:if(i){e.next=27;break}throw Error("Not logged in");case 27:return d=r.auth.accountName,a({type:"switch",payload:"submitting to blockchain."}),e.next=31,r.eosApi.transact({actions:[{account:y.live.contract,name:"create",authorization:[{actor:d,permission:"active"}],data:{user:d}}]},{broadcast:!0,blocksBehind:3,expireSeconds:10});case 31:e.sent,a({type:"switch",payload:"done"}),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(0),alert(e.t0),a({type:"switch",payload:"error"}),console.log("error",e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t){return e.apply(this,arguments)}}(),i=w.map((function(e,t){var a=e.meta;return r.a.createElement("div",{className:"button",onClick:function(){o(t)},key:t},a.name)})),c=null,d=null;return"intro"==t?(d="mobile_browser"==b?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Login with TokenPocket or with EOS Lynx")):"desktop_browser"==b?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Login with ",r.a.createElement("a",{href:"scatter://open"},"Scatter"),", ",r.a.createElement("a",{href:"tokenpocket://open"},"Token Pocket"),".")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"I see you're logged in with ",b,". Great!")),c=r.a.createElement("div",{style:{maxWidth:500,flexGrow:1,paddingRight:10}},r.a.createElement("div",null,d),r.a.createElement("div",{style:{paddingTop:20}},r.a.createElement("div",{className:"button",onClick:function(){for(var e=0;e<w.length;++e)if(w[e].id==b)return void o(e);a({type:"switch",payload:"login_selection"})}},"Login with EOS")))):c="login_selection"==t?r.a.createElement("div",{style:{maxWidth:500,flexGrow:1,paddingRight:10}},r.a.createElement(r.a.Fragment,null,i)):"done"==t?r.a.createElement("div",{style:{maxWidth:500,flexGrow:1,paddingRight:10}},r.a.createElement("div",null,"Success! Now find this rob guy, and hand him your travel info."),r.a.createElement("div",null,r.a.createElement("img",{src:"/img/rob.jpg"}))):"already_signed_up"==t?r.a.createElement("div",{style:{maxWidth:500,flexGrow:1,paddingRight:10}},r.a.createElement("div",null,"You're already signed up. Now you just need to find this rob guy, and hand him your travel info."),r.a.createElement("div",null,r.a.createElement("img",{src:"/img/rob.jpg"}))):"error"==t?r.a.createElement("div",{style:{maxWidth:500,flexGrow:1,paddingRight:10}},r.a.createElement(n,null),r.a.createElement("p",null,"Hmmm.. Make sure your EOS Wallet app is open!"),r.a.createElement("div",{className:"button",onClick:function(){a({type:"switch",payload:"intro"})}},"Try Again")):r.a.createElement("div",{style:{maxWidth:500,flexGrow:1,paddingRight:10}},r.a.createElement(n,null)),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",backgroundColor:"#F3F5F9"}},r.a.createElement("div",{style:(e={flexGrow:1,padding:"20px 20px",display:"flex",flexDirection:"column"},Object(s.a)(e,"flexGrow",1),Object(s.a)(e,"letterSpacing","1px"),Object(s.a)(e,"fontSize",23),e)}," TRAVEL REIMBURSMENT FUND"),r.a.createElement("div",{style:{maxHeight:200,borderBottomRightRadius:5,borderBottomLeftRadius:5,padding:"20px 20px",backgroundColor:"#F3F5F9",letterSpacing:"1px",fontWeight:"bold",fontSize:23}},r.a.createElement("a",{style:{textDecoration:"none"},target:"_blank",href:"http://eosdetroit.io"},"EOS DETROIT"))),r.a.createElement("div",{style:{margin:"0 auto",maxWidth:1e3,display:"flex",flexDirection:"row",padding:20,alignItems:"flex-start",alignContent:"flex-start"}},c,r.a.createElement("div",{style:{flexGrow:0}},r.a.createElement("div",null,r.a.createElement("img",{src:"/img/trf_sky.png"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=Object(c.b)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"intro",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"switch":return t.payload;default:return e}}}),k=Object(c.c)(x);i.a.render(r.a.createElement(l.a,{store:k},r.a.createElement(E,null)),document.getElementById("root"))},73:function(e,t,a){e.exports=a(143)},82:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.a8368cae.chunk.js.map